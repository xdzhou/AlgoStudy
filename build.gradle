subprojects {
    apply plugin: 'java'
    apply plugin: 'findbugs'
    apply plugin: 'pmd'

    findbugs {
        sourceSets = [sourceSets.main]
        reportsDir = file("$project.buildDir/reports/findbugs")
        effort = "max"
    }

    pmd {
        sourceSets = [sourceSets.main]
        reportsDir = file("$project.buildDir/reports/pmd")
        ruleSets = [
                'java-basic'
        ]
    }

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    repositories {
       mavenCentral()
    }
    
    allprojects {
        tasks.withType(JavaCompile) {
            options.compilerArgs << "-Xlint:deprecation"
        }
    }
    
    tasks.withType(Test) {
        scanForTestClasses = false
        include "**/*Test.class" // whatever Ant pattern matches your test class files
    }

    dependencies {
        testCompile 'org.testng:testng:6.9.6'
        compile 'com.google.guava:guava:19.0-rc2'
        compile 'org.slf4j:slf4j-log4j12:1.7.12'  
    }
}
